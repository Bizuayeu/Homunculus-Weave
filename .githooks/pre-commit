#!/bin/bash

# Identities/ é…ä¸‹ãƒ•ã‚¡ã‚¤ãƒ«ã®è‡ªå‹•åŒæœŸã‚¹ã‚¯ãƒªãƒ—ãƒˆ

# WeaveIdentity.md ã®åŒæœŸ
SOURCE_IDENTITY="Identities/WeaveIdentity.md"
TARGET_IDENTITY_1=".claude/CLAUDE.local.md"
TARGET_IDENTITY_2="Expertises/CorporateStrategist/BusinessAnalyzer/References/WeaveIdentity.md"

if git diff --cached --name-only | grep -q "^${SOURCE_IDENTITY}$"; then
    echo "ğŸ”„ Syncing WeaveIdentity.md to 2 locations..."
    cp "${SOURCE_IDENTITY}" "${TARGET_IDENTITY_1}"
    cp "${SOURCE_IDENTITY}" "${TARGET_IDENTITY_2}"
    git add "${TARGET_IDENTITY_1}"
    git add "${TARGET_IDENTITY_2}"
    echo "âœ… Synced: ${TARGET_IDENTITY_1}"
    echo "âœ… Synced: ${TARGET_IDENTITY_2}"
fi

# MSP_Implementation_Manual.md ã®åŒæœŸ
SOURCE_MSP="Identities/MSP_Implementation_Manual.md"
TARGET_MSP="Expertises/CorporateStrategist/BusinessAnalyzer/References/MSP_Implementation_Manual.md"

if git diff --cached --name-only | grep -q "^${SOURCE_MSP}$"; then
    echo "ğŸ”„ Syncing MSP_Implementation_Manual.md..."
    cp "${SOURCE_MSP}" "${TARGET_MSP}"
    git add "${TARGET_MSP}"
    echo "âœ… Synced: ${TARGET_MSP}"
fi

exit 0
